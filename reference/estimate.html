<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Estimate a model — estimate • goldfish</title><!-- favicons --><link rel="icon" type="image/png" sizes="48x48" href="../favicon-48x48.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Estimate a model — estimate"><meta property="og:description" content="Estimates parameters for a dynamic network model via maximum likelihood
implementing the iterative Newton-Raphson procedure as describe in
Stadtfeld and Block (2017)."><meta property="og:image" content="https://stocnet.github.io/goldfish/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">goldfish</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.7.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>

  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="divider">
    <li class="dropdown-header">goldfish effects</li>
    <li>
      <a href="../articles/goldfishEffects.html">goldfish Effects</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">How to start</li>
    <li>
      <a href="../articles/teaching1.html">DyNAM: How to start</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">choice coordination</li>
    <li>
      <a href="../articles/teaching2.html">The Coordination Model and Extensions</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">DyNAM-i</li>
    <li>
      <a href="../articles/dynami-example.html">DyNAM-i: an example script</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/stocnet/goldfish" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Estimate a model</h1>
    <small class="dont-index">Source: <a href="https://github.com/stocnet/goldfish/blob/develop/R/model_estimate.R" class="external-link"><code>R/model_estimate.R</code></a></small>
    <div class="hidden name"><code>estimate.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Estimates parameters for a dynamic network model via maximum likelihood
implementing the iterative Newton-Raphson procedure as describe in
Stadtfeld and Block (2017).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">estimate_dynam</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  sub_model <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"choice"</span>, <span class="st">"rate"</span>, <span class="st">"choice_coordination"</span><span class="op">)</span>,</span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  control_estimation <span class="op">=</span> <span class="fu"><a href="set_estimation_opt.html">set_estimation_opt</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  control_preprocessing <span class="op">=</span> <span class="fu"><a href="set_preprocessing_opt.html">set_preprocessing_opt</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  preprocessing_init <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  preprocessing_only <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  progress <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"progress"</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"verbose"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">estimate_dynami</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  sub_model <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"choice"</span>, <span class="st">"rate"</span><span class="op">)</span>,</span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  control_estimation <span class="op">=</span> <span class="fu"><a href="set_estimation_opt.html">set_estimation_opt</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  control_preprocessing <span class="op">=</span> <span class="fu"><a href="set_preprocessing_opt.html">set_preprocessing_opt</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  preprocessing_init <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  preprocessing_only <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  progress <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"progress"</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"verbose"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">estimate_rem</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  control_estimation <span class="op">=</span> <span class="fu"><a href="set_estimation_opt.html">set_estimation_opt</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  control_preprocessing <span class="op">=</span> <span class="fu"><a href="set_preprocessing_opt.html">set_preprocessing_opt</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  preprocessing_init <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  preprocessing_only <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  progress <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"progress"</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"verbose"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>a formula that defines at the left-hand side the dependent
network (see <code><a href="make_dependent_events.html">make_dependent_events()</a></code>) and at the right-hand side the
effects and the variables for which the effects are expected to occur
(see <code><a href="../articles/goldfishEffects.html">vignette("goldfishEffects")</a></code>).</p></dd>


<dt id="arg-sub-model">sub_model<a class="anchor" aria-label="anchor" href="#arg-sub-model"></a></dt>
<dd><p>A character string specifying the sub-model to be estimated.
It can be <code>"rate"</code> to model the waiting times between events,
<code>"choice"</code> to model the choice of the receiver, or <code>"choice_coordination"</code>
to model coordination ties. See details.</p><dl><dt>choice</dt>
<dd><p>a multinomial receiver choice model <code>estimate_dynam()</code>
(Stadtfeld and Block, 2017).
A multinomial group choice model <code>estimate_dynami()</code> (Hoffman et al., 2020)</p></dd>

<dt>choice_coordination</dt>
<dd><p>a multinomial-multinomial model for coordination
ties <code>estimate_dynam()</code> (Stadtfeld, Hollway and Block, 2017)</p></dd>

<dt>rate</dt>
<dd><p>A individual activity rates model <code>estimate_dynam()</code>
(Stadtfeld and Block, 2017).
Two rate models, one for individuals joining groups and one for individuals
leaving groups, jointly estimated <code>estimate_dynami()</code>(Hoffman et al., 2020)</p></dd>


</dl></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>a <code>data.goldfish</code> object created with <code><a href="make_data.html">make_data()</a></code>.
It is an environment that contains the nodesets, networks,
attributes and dependent events objects. Default to <code>NULL</code>.</p></dd>


<dt id="arg-control-estimation">control_estimation<a class="anchor" aria-label="anchor" href="#arg-control-estimation"></a></dt>
<dd><p>An object of class <code>control_estimation.goldfish</code>
(typically created by <code><a href="set_estimation_opt.html">set_estimation_opt()</a></code>),
specifying parameters for the estimation algorithm.</p></dd>


<dt id="arg-control-preprocessing">control_preprocessing<a class="anchor" aria-label="anchor" href="#arg-control-preprocessing"></a></dt>
<dd><p>An object of class
<code>control_preprocessing.goldfish</code> (typically created by
<code><a href="set_preprocessing_opt.html">set_preprocessing_opt()</a></code>),
specifying parameters for data preprocessing. This is only used
if <code>preprocessing_init</code> is not a <code>preprocessed.goldfish</code> object or NULL.</p></dd>


<dt id="arg-preprocessing-init">preprocessing_init<a class="anchor" aria-label="anchor" href="#arg-preprocessing-init"></a></dt>
<dd><p>an optional preprocessed object of class
<code>preprocessed.goldfish</code> from a previous estimation. When it is provided,
the function will skip the preprocessing of the effects that are already
present in the object and only preprocess the new effects. Default to
<code>NULL</code>.</p></dd>


<dt id="arg-preprocessing-only">preprocessing_only<a class="anchor" aria-label="anchor" href="#arg-preprocessing-only"></a></dt>
<dd><p>logical. If <code>TRUE</code>, the function will only run
the preprocessing stage and return an object of class
<code>preprocessed.goldfish</code>. Default to <code>FALSE</code>.</p></dd>


<dt id="arg-progress">progress<a class="anchor" aria-label="anchor" href="#arg-progress"></a></dt>
<dd><p>logical indicating whether should print a minimal output
to the console of the progress of the preprocessing and
estimation processes.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>logical indicating whether should print
very detailed intermediate results of the iterative Newton-Raphson
procedure; slows down the routine significantly.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>returns an object of <code><a href="https://rdrr.io/r/base/class.html" class="external-link">class()</a></code> <code>"result.goldfish"</code>
when <code>preprocessing_only = FALSE</code> or
a preprocessed statistics object of class <code>"preprocessed.goldfish"</code>
when <code>preprocessing_only = TRUE</code>.</p>
<p>An object of class <code>"result.goldfish"</code> is a list including:</p>
<dl><dt>parameters</dt>
<dd><p>a numeric vector with the coefficients estimates.</p></dd>

<dt>standardErrors</dt>
<dd><p>a numeric vector with the standard errors of the coefficients estimates.</p></dd>

<dt>logLikelihood</dt>
<dd><p>the log-likelihood of the estimated model</p></dd>

<dt>finalScore</dt>
<dd><p>a vector with the final score reach by the parameters during estimation.</p></dd>

<dt>finalInformationMatrix</dt>
<dd><p>a matrix with the final values of the negative Fisher information matrix.
The inverse of this matrix gives the variance-covariance matrix for the
parameters estimates.</p></dd>

<dt>convergence</dt>
<dd><p>a list with two elements.
The first element (<code>isConverged</code>) is a logical value that indicates
the convergence of the model.
The second element (<code>maxAbsScore</code>) reports the final maximum absolute
score in the final iteration.</p></dd>

<dt>nIterations</dt>
<dd><p>an integer with the total number of iterations performed during the
estimation process.</p></dd>

<dt>nEvents</dt>
<dd><p>an integer reporting the number of events considered in the model.</p></dd>

<dt>names</dt>
<dd><p>a matrix with a description of the effects used for model fitting.
It includes the name of the object used to calculate the effects and
additional parameter description.</p></dd>

<dt>formula</dt>
<dd><p>a formula with the information of the model fitted.</p></dd>

<dt>model</dt>
<dd><p>a character value of the model type.</p></dd>

<dt>sub_model</dt>
<dd><p>a character value of the sub_model type.</p></dd>

<dt>rightCensored</dt>
<dd><p>a logical value indicating if the estimation process considered
right-censored events.
Only it is considered for <code>estimate_dynam(x, sub_model = "rate")</code> or
REM (<code>estimate_rem()</code>), when the model includes the intercept.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>Missing data is handled during the preprocessing stage of the data.
The specific imputation strategy depends on the type of data:</p>
<ul><li><p><strong>Network Data:</strong>
Missing values in the initial network structure or in linked events
that update network ties are imputed with a value of zero (0).
This explicitly assumes the absence of a tie or event.</p></li>
<li><p><strong>Attribute Covariates:</strong></p><ul><li><p>Initial Values: Missing values for the initial state of an
attribute covariate are replaced by the mean value of that attribute
across all actors.</p></li>
<li><p>During Event Updates (via linked events):</p><ul><li><p>Using <code>replace</code>: If a linked event uses the <code>replace</code> variable
to specify a new attribute value and that value is missing, the missing
value is replaced by the mean of the attribute,
excluding the node being updated, at the moment of the event.</p></li>
<li><p>Using <code>increment</code>: If a linked event uses the <code>increment</code>
variable to specify a change in attribute value and that increment is
missing, the missing value is imputed with a value of zero (0).
This assumes no change occurred.</p></li>
</ul></li>
</ul></li>
</ul></div>
    <div id="models">
    <h2>Models</h2>


<p>Currently there are implemented the following models:</p><dl><dt>DyNAM</dt>
<dd><p>Dynamic Network Actor Models, <code>estimate_dynam()</code>,
modeling a sequence of relational events as an actor-oriented process
(Stadtfeld, Hollway and Block, 2017 and Stadtfeld and Block, 2017)</p></dd>

<dt>DyNAMi</dt>
<dd><p>Dynamic Network Actor Models for interactions,
<code>estimate_dynami()</code>, modeling face-to-face interactions as an
actor oriented process
(Hoffman et al., 2020)</p></dd>

<dt>REM</dt>
<dd><p>Relational Event Model, <code>estimate_rem()</code>,
modeling a sequence of relational events as a tie-oriented process
(Butts, 2008).</p></dd>


</dl></div>
    <div id="dynam">
    <h2>DyNAM</h2>



<p>The actor-oriented models that the goldfish package implements,
<code>estimate_dynam()</code>, have been
called Dynamic Network Actor Models (DyNAMs).
The model is a two-step process. In the first step, the waiting time until
an actor \(i\) initiates the next relational event is modeled
(<code>sub_model = "rate"</code>) by an exponential distribution depending on
the actor activity rate.
In the second step, the conditional probability of \(i\) choosing
\(j\) as the event receiver is modeled (<code>sub_model = "choice"</code>)
by a multinomial probability distribution with a linear predictor.
These two-steps are assumed to be conditionally independent given
the process state (Stadtfeld, 2012),
due to this assumption is possible to estimate these components by
different calls of the <code>estimate_dynam()</code> function.</p>
    </div>
    <div id="waiting-times">
    <h2>Waiting times</h2>



<p>When DyNAM-rate (<code>estimate_dynam(x, sub_model = "rate")</code>) model
is used to estimate the first step component of the process, or the REM
<code>estimate_rem(x, model = "REM")</code> model is used.
It is important to add a time intercept to model the waiting times between
events, in this way the algorithm considers the right-censored intervals
in the estimation process.</p>
<p>In the case that the intercept is not included in the formula.
The model reflects the likelihood of an event being the next in the sequence.
This specification is useful for scenarios where the researcher doesn't have
access to the exact interevent times.
For this ordinal case the likelihood of an event is merely a
multinomial probability (Butts, 2008).</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Butts C. (2008). A Relational Event Framework for Social Action.
<em>Sociological Methodology 38 (1)</em>.
<a href="https://doi.org/10.1111/j.1467-9531.2008.00203.x" class="external-link">doi:10.1111/j.1467-9531.2008.00203.x</a></p>
<p>Hoffman, M., Block P., Elmer T., and Stadtfeld C. (2020).
A model for the dynamics of face-to-face interactions in social groups.
<em>Network Science</em>, 8(S1), S4-S25. <a href="https://doi.org/10.1017/nws.2020.3" class="external-link">doi:10.1017/nws.2020.3</a></p>
<p>Stadtfeld, C. (2012). Events in Social Networks: A Stochastic Actor-oriented
Framework for Dynamic Event Processes in Social Networks.
<em>KIT Scientific Publishing</em>. <a href="https://doi.org/10.5445/KSP/1000025407" class="external-link">doi:10.5445/KSP/1000025407</a></p>
<p>Stadtfeld, C., and Block, P. (2017). Interactions, Actors, and Time:
Dynamic Network Actor Models for Relational Events.
<em>Sociological Science 4 (1)</em>, 318-52. <a href="https://doi.org/10.15195/v4.a14" class="external-link">doi:10.15195/v4.a14</a></p>
<p>Stadtfeld, C., Hollway, J., and Block, P. (2017).
Dynamic Network Actor Models: Investigating Coordination Ties Through Time.
<em>Sociological Methodology 47 (1)</em>. <a href="https://doi.org/10.1177/0081175017709295" class="external-link">doi:10.1177/0081175017709295</a></p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="make_dependent_events.html">make_dependent_events()</a></code>, <code><a href="make_global_attribute.html">make_global_attribute()</a></code>,
<code><a href="make_network.html">make_network()</a></code>, <code><a href="make_nodes.html">make_nodes()</a></code>, <code><a href="link_events.html">link_events()</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># A DyNAM modeling rate and choice steps</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"Social_Evolution"</span><span class="op">)</span></span>
<span><span class="va">callNetwork</span> <span class="op">&lt;-</span> <span class="fu"><a href="make_network.html">make_network</a></span><span class="op">(</span>nodes <span class="op">=</span> <span class="va">actors</span>, directed <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">callNetwork</span> <span class="op">&lt;-</span> <span class="fu"><a href="link_events.html">link_events</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">callNetwork</span>, change_event <span class="op">=</span> <span class="va">calls</span>,</span>
<span>  nodes <span class="op">=</span> <span class="va">actors</span></span>
<span><span class="op">)</span></span>
<span><span class="va">callsDependent</span> <span class="op">&lt;-</span> <span class="fu"><a href="make_dependent_events.html">make_dependent_events</a></span><span class="op">(</span></span>
<span>  events <span class="op">=</span> <span class="va">calls</span>, nodes <span class="op">=</span> <span class="va">actors</span>,</span>
<span>  default_network <span class="op">=</span> <span class="va">callNetwork</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">DONTSHOW</span><span class="op">(</span><span class="op">{</span></span>
<span><span class="va">callsDependent</span> <span class="op">&lt;-</span> <span class="va">callsDependent</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">50</span>, <span class="op">]</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="va">socialEvData</span> <span class="op">&lt;-</span> <span class="fu"><a href="make_data.html">make_data</a></span><span class="op">(</span><span class="va">callsDependent</span>, <span class="va">callNetwork</span>, <span class="va">call</span>, <span class="va">actors</span><span class="op">)</span></span>
<span></span>
<span><span class="va">mod01</span> <span class="op">&lt;-</span> <span class="fu">estimate_dynam</span><span class="op">(</span><span class="va">callsDependent</span> <span class="op">~</span> <span class="va">inertia</span> <span class="op">+</span> <span class="va">recip</span> <span class="op">+</span> <span class="va">trans</span>,</span>
<span>  sub_model <span class="op">=</span> <span class="st">"choice"</span>,</span>
<span>  data <span class="op">=</span> <span class="va">socialEvData</span>,</span>
<span>  control_estimation <span class="op">=</span> <span class="fu"><a href="set_estimation_opt.html">set_estimation_opt</a></span><span class="op">(</span>engine <span class="op">=</span> <span class="st">"gather_compute"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod01</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># A individual activity rates model</span></span>
<span><span class="va">mod02</span> <span class="op">&lt;-</span> <span class="fu">estimate_dynam</span><span class="op">(</span><span class="va">callsDependent</span> <span class="op">~</span> <span class="fl">1</span> <span class="op">+</span> <span class="va">node_trans</span> <span class="op">+</span> <span class="va">indeg</span> <span class="op">+</span> <span class="va">outdeg</span>,</span>
<span>  sub_model <span class="op">=</span> <span class="st">"rate"</span>,</span>
<span>  data <span class="op">=</span> <span class="va">socialEvData</span>,</span>
<span>  control_estimation <span class="op">=</span> <span class="fu"><a href="set_estimation_opt.html">set_estimation_opt</a></span><span class="op">(</span>engine <span class="op">=</span> <span class="st">"gather_compute"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod02</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># A REM</span></span>
<span></span>
<span><span class="va">mod03</span> <span class="op">&lt;-</span> <span class="fu">estimate_rem</span><span class="op">(</span></span>
<span>  <span class="va">callsDependent</span> <span class="op">~</span> <span class="fl">1</span> <span class="op">+</span> <span class="fu">node_trans</span><span class="op">(</span><span class="va">callNetwork</span>, type <span class="op">=</span> <span class="st">"ego"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">indeg</span><span class="op">(</span><span class="va">callNetwork</span>, type <span class="op">=</span> <span class="st">"ego"</span><span class="op">)</span> <span class="op">+</span> <span class="fu">outdeg</span><span class="op">(</span><span class="va">callNetwork</span>, type <span class="op">=</span> <span class="st">"ego"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="va">inertia</span> <span class="op">+</span> <span class="va">recip</span> <span class="op">+</span> <span class="va">trans</span>,</span>
<span>    data <span class="op">=</span> <span class="va">socialEvData</span>,</span>
<span>    control_estimation <span class="op">=</span> <span class="fu"><a href="set_estimation_opt.html">set_estimation_opt</a></span><span class="op">(</span>engine <span class="op">=</span> <span class="st">"gather_compute"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod03</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># \donttest{</span></span>
<span><span class="co"># A multinomial-multinomial choice model for coordination ties</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"Fisheries_Treaties_6070"</span><span class="op">)</span></span>
<span><span class="va">states</span> <span class="op">&lt;-</span> <span class="fu"><a href="make_nodes.html">make_nodes</a></span><span class="op">(</span><span class="va">states</span><span class="op">)</span></span>
<span><span class="va">states</span> <span class="op">&lt;-</span> <span class="fu"><a href="link_events.html">link_events</a></span><span class="op">(</span><span class="va">states</span>, <span class="va">sovchanges</span>, attribute <span class="op">=</span> <span class="st">"present"</span><span class="op">)</span></span>
<span><span class="va">states</span> <span class="op">&lt;-</span> <span class="fu"><a href="link_events.html">link_events</a></span><span class="op">(</span><span class="va">states</span>, <span class="va">regchanges</span>, attribute <span class="op">=</span> <span class="st">"regime"</span><span class="op">)</span></span>
<span><span class="va">states</span> <span class="op">&lt;-</span> <span class="fu"><a href="link_events.html">link_events</a></span><span class="op">(</span><span class="va">states</span>, <span class="va">gdpchanges</span>, attribute <span class="op">=</span> <span class="st">"gdp"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">bilatnet</span> <span class="op">&lt;-</span> <span class="fu"><a href="make_network.html">make_network</a></span><span class="op">(</span><span class="va">bilatnet</span>, nodes <span class="op">=</span> <span class="va">states</span>, directed <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">bilatnet</span> <span class="op">&lt;-</span> <span class="fu"><a href="link_events.html">link_events</a></span><span class="op">(</span><span class="va">bilatnet</span>, <span class="va">bilatchanges</span>, nodes <span class="op">=</span> <span class="va">states</span><span class="op">)</span></span>
<span></span>
<span><span class="va">contignet</span> <span class="op">&lt;-</span> <span class="fu"><a href="make_network.html">make_network</a></span><span class="op">(</span><span class="va">contignet</span>, nodes <span class="op">=</span> <span class="va">states</span>, directed <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">contignet</span> <span class="op">&lt;-</span> <span class="fu"><a href="link_events.html">link_events</a></span><span class="op">(</span><span class="va">contignet</span>, <span class="va">contigchanges</span>, nodes <span class="op">=</span> <span class="va">states</span><span class="op">)</span></span>
<span></span>
<span><span class="va">createBilat</span> <span class="op">&lt;-</span> <span class="fu"><a href="make_dependent_events.html">make_dependent_events</a></span><span class="op">(</span></span>
<span>  events <span class="op">=</span> <span class="va">bilatchanges</span><span class="op">[</span><span class="va">bilatchanges</span><span class="op">$</span><span class="va">increment</span> <span class="op">==</span> <span class="fl">1</span>, <span class="op">]</span>,</span>
<span>  nodes <span class="op">=</span> <span class="va">states</span>, default_network <span class="op">=</span> <span class="va">bilatnet</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">fisheriesData</span> <span class="op">&lt;-</span> <span class="fu"><a href="make_data.html">make_data</a></span><span class="op">(</span></span>
<span>  <span class="va">createBilat</span>, <span class="va">contignet</span>, <span class="va">bilatnet</span>, <span class="va">contigchanges</span>, <span class="va">bilatchanges</span>,</span>
<span>  <span class="va">states</span>, <span class="va">sovchanges</span>, <span class="va">regchanges</span>, <span class="va">gdpchanges</span></span>
<span> <span class="op">)</span></span>
<span><span class="va">partnerModel</span> <span class="op">&lt;-</span> <span class="fu">estimate_dynam</span><span class="op">(</span></span>
<span>  <span class="va">createBilat</span> <span class="op">~</span></span>
<span>    <span class="fu">inertia</span><span class="op">(</span><span class="va">bilatnet</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">indeg</span><span class="op">(</span><span class="va">bilatnet</span>, ignore_repetitions <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">trans</span><span class="op">(</span><span class="va">bilatnet</span>, ignore_repetitions <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">tie</span><span class="op">(</span><span class="va">contignet</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">alter</span><span class="op">(</span><span class="va">states</span><span class="op">$</span><span class="va">regime</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/diff.html" class="external-link">diff</a></span><span class="op">(</span><span class="va">states</span><span class="op">$</span><span class="va">regime</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">alter</span><span class="op">(</span><span class="va">states</span><span class="op">$</span><span class="va">gdp</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/diff.html" class="external-link">diff</a></span><span class="op">(</span><span class="va">states</span><span class="op">$</span><span class="va">gdp</span><span class="op">)</span>,</span>
<span>  sub_model <span class="op">=</span> <span class="st">"choice_coordination"</span>,</span>
<span>  data <span class="op">=</span> <span class="va">fisheriesData</span>,</span>
<span>  control_estimation <span class="op">=</span></span>
<span>    <span class="fu"><a href="set_estimation_opt.html">set_estimation_opt</a></span><span class="op">(</span></span>
<span>      initial_damping <span class="op">=</span> <span class="fl">40</span>, max_iterations <span class="op">=</span> <span class="fl">30</span>,</span>
<span>      engine <span class="op">=</span> <span class="st">"default"</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">partnerModel</span><span class="op">)</span></span>
<span><span class="co"># }</span></span>
<span></span></code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://jameshollway.com" class="external-link">James Hollway</a>, <a href="https://sn.ethz.ch/profile.html?persid=210738" class="external-link">Christoph Stadtfeld</a>, Marion Hoffman, Alvaro Uzaheta.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

